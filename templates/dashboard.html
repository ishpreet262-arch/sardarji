<!DOCTYPE html>
<html>
<head>
<title>AI Trading System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="refresh" content="40">

<style>
body{
margin:0;
font-family:Arial;
background:#020617;
color:white;
padding-bottom:60px;
}

/* HEADER */
.header{
background:#000814;
padding:14px;
color:#22c55e;
display:flex;
justify-content:space-between;
align-items:center;
font-size:20px;
}

/* TICKER */
.ticker{
background:#111827;
padding:8px;
overflow:hidden;
white-space:nowrap;
color:#22c55e;
}
.ticker span{
display:inline-block;
padding-left:100%;
animation:scroll 18s linear infinite;
}
@keyframes scroll{
from{transform:translateX(0);}
to{transform:translateX(-100%);}
}

/* NIFTY */
.nifty{
text-align:center;
padding:8px;
color:#22c55e;
font-size:18px;
}

/* WORLD PANEL */
.world{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:8px;
padding:8px;
}
.wbox{
background:#111827;
padding:8px 12px;
border-radius:8px;
font-size:13px;
}

/* PREDICTION CARD */
.container{
display:flex;
justify-content:center;
padding:15px;
}
.card{
background:#111827;
padding:20px;
border-radius:15px;
width:95%;
max-width:420px;
text-align:center;
}

input{
padding:12px;
width:90%;
border:none;
border-radius:8px;
background:#020617;
color:white;
}

button{
padding:10px 20px;
background:#22c55e;
border:none;
border-radius:8px;
color:white;
margin-top:10px;
width:90%;
cursor:pointer;
}

.ai{
background:#020617;
padding:10px;
margin-top:10px;
border-radius:8px;
border:1px solid #22c55e;
}

/* GAINERS LOSERS */
.market{
display:flex;
flex-wrap:wrap;
justify-content:center;
gap:12px;
padding:10px;
}
.box{
background:#111827;
padding:15px;
border-radius:12px;
width:45%;
min-width:150px;
}
.green{color:#22c55e;}
.red{color:#ef4444;}

/* NEWS PANEL */
.news-container{
background:#111827;
margin:20px;
padding:20px;
border-radius:15px;
max-width:700px;
margin-left:auto;
margin-right:auto;
}

.tabs{
display:flex;
justify-content:center;
gap:10px;
margin-bottom:15px;
flex-wrap:wrap;
}

.tabs button{
background:#020617;
border:1px solid #22c55e;
color:#22c55e;
padding:8px 14px;
border-radius:8px;
cursor:pointer;
}

.tabs button:hover{
background:#22c55e;
color:black;
}

.tabcontent{
text-align:left;
font-size:14px;
}

.tabcontent a{
color:white;
text-decoration:none;
}

.tabcontent a:hover{
color:#22c55e;
}

.footer{
text-align:center;
color:gray;
margin:20px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
<div>üìà AI Trading System</div>
<div>{{user}}</div>
</div>

<!-- LIVE TICKER -->
<div class="ticker">
<span>{{ticker}}</span>
</div>

<!-- NIFTY -->
<div class="nifty">NIFTY Live:‚Çπ{{nifty}}</div>

<!-- WORLD -->
<div class="world">
<div class="wbox">Dow Jones: ${{world.dow}}</div>
<div class="wbox">Nasdaq: ${{world.nasdaq}}</div>
<div class="wbox">ü™ôBTC: ${{world.btc}}</div>
<div class="wbox">Gold: ${{world.gold}}</div>
</div>

<!-- PREDICTION -->
<div class="container">
<div class="card">
<h3>AI Prediction</h3>

<form action="/predict" method="post">
<input name="stock" placeholder="RELIANCE | AAPL | BTC-USD | ^NSEI" required>
<br>
<button type="submit">Predict Now</button>
</form>

<div class="ai">
üî• Best Buy: {{buy}} <br>
‚ö†Ô∏è Sell Alert: {{sell}} <br>
ü™ô Crypto: {{crypto}}
</div>

<a href="/ai_chat"><button style="background:#f59e0b;">AI Assistant</button></a>
<a href="/logout"><button style="background:#ef4444;">Logout</button></a>
</div>
</div>

<!-- GAINERS LOSERS -->
<div class="market">
<div class="box">
<h4 class="green">Top Gainers</h4>
{% for g in gainers %}
<p>{{g[0]}} +{{g[1]}}%</p>
{% endfor %}
</div>

<div class="box">
<h4 class="red">Top Losers</h4>
{% for l in losers %}
<p>{{l[0]}} {{l[1]}}%</p>
{% endfor %}
</div>
</div>

<!-- ===== PRO NEWS PANEL ===== -->
<div class="news-container">

<h2 style="color:#22c55e;text-align:center;">üì∞ Live Market News</h2>

<div class="tabs">
<button onclick="showTab('india')">üáÆüá≥ India</button>
<button onclick="showTab('nifty')">üìä Nifty</button>
<button onclick="showTab('global')">üåç Global</button>
<button onclick="showTab('crypto')">ü™ô Crypto</button>
</div>

<div id="india" class="tabcontent">
{% for n in news.india %}
<p>‚Ä¢ <a href="{{n.link}}" target="_blank">{{n.title}}</a></p>
{% endfor %}
</div>

<div id="nifty" class="tabcontent" style="display:none;">
{% for n in news.nifty %}
<p>‚Ä¢ <a href="{{n.link}}" target="_blank">{{n.title}}</a></p>
{% endfor %}
</div>

<div id="global" class="tabcontent" style="display:none;">
{% for n in news.global %}
<p>‚Ä¢ <a href="{{n.link}}" target="_blank">{{n.title}}</a></p>
{% endfor %}
</div>

<div id="crypto" class="tabcontent" style="display:none;">
{% for n in news.crypto %}
<p>‚Ä¢ <a href="{{n.link}}" target="_blank">{{n.title}}</a></p>
{% endfor %}
</div>

</div>

<div class="footer">
Developed By Ishpreet Singh
</div>

<script>
function showTab(tab){
document.getElementById("india").style.display="none";
document.getElementById("nifty").style.display="none";
document.getElementById("global").style.display="none";
document.getElementById("crypto").style.display="none";

document.getElementById(tab).style.display="block";
}
</script>

</body>
</html>